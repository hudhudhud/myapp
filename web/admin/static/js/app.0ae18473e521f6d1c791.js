webpackJsonp([1],{"3RrP":function(t,e){},"A+Vm":function(t,e,n){t.exports=n.p+"static/img/b.c81dcc6.jpg"},Aak6:function(t,e){},FNEL:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),i=n("aozt"),s=n.n(i),o={apiUrl:"http://localhost/admin",uploadUrl:"http://localhost",imgUrl:"http://localhost/img"},r={get:function(t){return s.a.defaults.withCredentials=!0,s.a.get(o.apiUrl+t)},post:function(t,e){return s.a.post(o.apiUrl+t,e)}},l={data:function(){return{name:"",pwd:"",msg:"",err:"",day:0}},created:function(){var t=this;r.get("/login/api").then(function(e){e.data.user?(t.name=e.data.user.name,t.day=Math.ceil((Date.now()-Date.parse(e.data.user.regidate))/3600/24/1e3),t.isLogin=!0,t.$emit("login",{user:e.data.user}),console.log("logined")):console.log("no login")})},methods:{submit:function(){var t=this;r.post("/login/api",{name:this.name,pwd:this.pwd}).then(function(e){e.data&&(t.msg=e.data.msg,t.err=e.data.err,e.data.user&&e.data.user.regidate&&(t.day=Math.ceil((Date.now()-Date.parse(e.data.user.regidate))/3600/24/1e3)),t.err||t.$emit("login",{user:e.data.user})),console.log(e.data)}).catch(function(t){console.log(t)})},loginout:function(){var t=this;r.get("/login/out").then(function(e){t.msg=e.msg})}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("div",[n("label",[t._v("用户名：")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),n("div",[n("label",[t._v("密码：")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",name:"pwd"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t._v(" "),n("button",{on:{click:t.submit}},[t._v("登录")]),t._v(" "),t.msg?n("p",{staticClass:"msg"},[t._v(t._s(t.msg))]):t._e(),t._v(" "),t.err?n("p",{staticClass:"err"},[t._v(t._s(t.err))]):t._e()])},staticRenderFns:[]};var u={name:"app",components:{login:n("Z0/y")(l,c,!1,function(t){n("n5pn")},"data-v-5177cfca",null).exports},data:function(){return{isLogin:!1,user:{name:""},activeName:"首页",menu:[{name:"首页",path:"/"},{name:"管理",path:"/manage",child:[{name:"文章管理",path:"/manage/article"},{name:"用户管理",path:"/manage/user"}]},{name:"统计",path:"/statistics",child:[{name:"用户分析",path:"/statistics/user"}]}]}},methods:{login:function(t){this.isLogin=!0,this.user=t.user},loginOut:function(){var t=this;r.get("/login/api/out").then(function(e){t.msg=e.msg,t.isLogin=!1})},menuClick:function(t){this.activeName=t.target.innerText}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.isLogin?a("section",{staticClass:"admin"},[a("div",{staticClass:"left"},[a("div",{staticClass:"head-img"},[a("img",{attrs:{src:n("A+Vm"),alt:""}}),t._v(" "),a("p",[t._v(t._s(t.user.name)+" 管理员")])]),t._v(" "),a("div",{staticClass:"router"},t._l(t.menu,function(e){return a("ul",[a("li",[a("router-link",{class:{active:e.name==t.activeName},attrs:{to:e.path},nativeOn:{click:function(e){return t.menuClick(e)}}},[t._v(t._s(e.name))])],1),t._v(" "),t._l(e.child,function(e){return a("li",[a("router-link",{class:{active:e.name==t.activeName},attrs:{to:e.path},nativeOn:{click:function(e){return t.menuClick(e)}}},[t._v(t._s(e.name))])],1)})],2)}))]),t._v(" "),a("div",{staticClass:"right"},[a("p",{staticClass:"header"},[t._v("管理后台"),a("span",{staticClass:"loginout",on:{click:t.loginOut}},[t._v("退出")])]),t._v(" "),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{staticClass:"router-content"})],1)],1)]):a("login",{on:{login:t.login}})],1)},staticRenderFns:[]};var p=n("Z0/y")(u,d,!1,function(t){n("pOpp"),n("uR/j")},"data-v-00dd308e",null).exports,m=n("/ocq"),v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content"},[e("transition",{attrs:{name:this.transitionName}},[e("router-view",{staticClass:"child-view"})],1)],1)},staticRenderFns:[]},f=n("Z0/y")({data:function(){return{transitionName:"out-in"}},watch:{$route:function(t,e){this.transitionName=t.name<e.name?"slide-right":"slide-left"}}},v,!1,null,null,null).exports,h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content"},[e("transition",{attrs:{name:this.transitionName}},[e("router-view",{staticClass:"child-view"})],1)],1)},staticRenderFns:[]},_=n("Z0/y")({data:function(){return{transitionName:"out-in",path:this.$route.path}},watch:{$route:function(t,e){this.transitionName=t.name<e.name?"slide-right":"slide-left"}}},h,!1,null,null,null).exports,g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"foo"},[t._v("用户管理")]),t._v(" "),n("ul",t._l(t.list,function(e){return n("li",[n("span",[t._v(t._s(e))])])}))])},staticRenderFns:[]},C=n("Z0/y")({data:function(){return{list:["hd","dh","hx","lal"]}}},g,!1,null,null,null).exports,y=n("mvHQ"),w=n.n(y),b=(n("3RrP"),n("4U23")),k=n.n(b),x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{foodTempHide:t.isHide},attrs:{id:"foodTemp"}},[n("div",{staticClass:"foodTemp"},[n("p",{staticClass:"top clearfix"},[n("span",[t._v("美食模板")]),t._v(" "),n("input",{attrs:{type:"button",value:"添加行"},on:{click:t.addLine}})]),t._v(" "),n("p",{staticClass:"food-title"},[t._v("食材")]),t._v(" "),n("ul",{staticClass:"lines"},t._l(t.foodLines,function(e,a){return n("li",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"item.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入食材"},domProps:{value:e.name},on:{input:function(n){n.target.composing||t.$set(e,"name",n.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.quality,expression:"item.quality",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入用量"},domProps:{value:e.quality},on:{input:function(n){n.target.composing||t.$set(e,"quality",n.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),n("input",{staticClass:"del",attrs:{type:"button",value:"X"},on:{click:function(e){t.del(a)}}})])})),t._v(" "),n("input",{attrs:{type:"button",value:"保存"},on:{click:t.save}}),t._v(" "),n("input",{attrs:{type:"button",value:"取消"},on:{click:t.cancel}})])])},staticRenderFns:[]};var N=n("Z0/y")({props:["isHide","foodLines"],data:function(){return{}},methods:{addLine:function(){this.foodLines.push({name:"",quality:""})},cancel:function(){this.foodLines=[{name:"",quality:""}],this.$emit("cancelTemp")},save:function(){this.$emit("saveTemp",this.foodLines)},del:function(t){this.foodLines.splice(t,1)}}},x,!1,function(t){n("diXB")},null,null).exports,T={name:"vue-html5-editor",showModuleName:!1,icons:{text:"fa fa-pencil",color:"fa fa-paint-brush",font:"fa fa-font",align:"fa fa-align-justify",list:"fa fa-list",link:"fa fa-chain",unlink:"fa fa-chain-broken",tabulation:"fa fa-table",image:"fa fa-file-image-o",hr:"fa fa-minus",eraser:"fa fa-eraser",undo:"fa-undo fa","full-screen":"fa fa-arrows-alt",info:"fa fa-info"},image:{sizeLimit:1048576,upload:{url:o.uploadUrl+"/upload",headers:{},params:{},fieldName:"artifile"},compress:!0,width:600,height:600,quality:80,uploadHandler:function(t){var e=JSON.parse(t).name;console.log(e);var n=o.imgUrl+"/upload/"+e;return console.log(n),n}},language:"zh-cn",i18n:{"zh-cn":{align:"对齐方式",image:"图片",list:"列表",link:"链接",unlink:"去除链接",table:"表格",font:"文字","full screen":"全屏",text:"排版",eraser:"格式清除",info:"关于",color:"颜色","please enter a url":"请输入地址","create link":"创建链接",bold:"加粗",italic:"倾斜",underline:"下划线","strike through":"删除线",subscript:"上标",superscript:"下标",heading:"标题","font name":"字体","font size":"文字大小","left justify":"左对齐","center justify":"居中","right justify":"右对齐","ordered list":"有序列表","unordered list":"无序列表","fore color":"前景色","background color":"背景色","row count":"行数","column count":"列数",save:"确定",upload:"上传",progress:"进度",unknown:"未知","please wait":"请稍等",error:"错误",abort:"中断",reset:"重置"}},hiddenModules:["full-screen","info"],visibleModules:["text","color","font","align","list","link","unlink","tabulation","image","hr","eraser","undo"],modules:{}},$={components:{editor1:new k.a(T),foodTemp:N},data:function(){return{uploadUrl:o.uploadUrl+"/upload",foodTempHide:!0,catg:"",title:"",desc:"",content:"123",foodList:[{name:"1",quality:"2"},{name:"3",quality:"4"}],sliderImgs:[],coverImg:""}},methods:{foodTemp:function(){this.foodTempHide=!1},cancelTemp:function(){this.foodTempHide=!0},saveTemp:function(t){console.log(t),this.foodTempHide=!0,this.foodList=t},uploadHeadImg:function(t){var e=new FormData;e.append("artifile",t.target.files[0],t.target.files[0].name);var n=new XMLHttpRequest;n.open("post",this.uploadUrl),n.responseType="json",n.send(e),n.onload=function(){200==n.status&&(console.log(this.imgUrl+"/upload/"+n.response.name),this.coverImg=o.imgUrl+"/upload/"+n.response.name)}.bind(this)},editchange:function(t){this.content=t},save:function(){r.post("/manage/article/api/add",{catg:this.catg,title:this.title,desc:this.desc,details:this.content,spec:w()(this.foodList),sliderImgs:w()(this.sliderImgs),coverImg:this.coverImg}).then(function(t){t.success&&console.log("添加成功！")})},view:function(){},savesend:function(){},slider:function(){}}},L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("文章管理 / 新建文章")]),t._v(" "),n("section",{staticClass:"main clearfix"},[n("div",{staticClass:"arti-div"},[t._v("\n\t\t\t\t类别："),n("select",{directives:[{name:"model",rawName:"v-model",value:t.catg,expression:"catg"}],attrs:{name:"catg"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.catg=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),n("option",{attrs:{value:"美食"}},[t._v("美食")]),t._v(" "),n("option",{attrs:{value:"美妆"}},[t._v("美妆")])]),t._v("\n\t\t\t\t标题："),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"请输入标题"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v("\n\t\t\t\t简要描述："),n("input",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"desc"}],attrs:{type:"text"},domProps:{value:t.desc},on:{input:function(e){e.target.composing||(t.desc=e.target.value)}}}),t._v(" "),n("editor1",{ref:"editor",attrs:{content:t.content,height:500,"z-index":5,"auto-height":!1},on:{change:t.editchange}}),t._v(" "),n("div",{staticClass:"customer"},[n("span",[t._v("封面：")]),t._v(" "),n("a",{staticClass:"a-upload",attrs:{href:"javascript:;"}},[n("input",{attrs:{type:"file",name:"coverImg"},on:{change:t.uploadHeadImg}}),t._v("从正文选择\n\t\t\t\t\t")]),t._v(" "),n("img",{staticClass:"cover-img",attrs:{src:t.coverImg,alt:""}})])],1),t._v(" "),n("div",{staticClass:"arti-oth"},[n("div",{staticClass:"mb"},[n("p",{staticClass:"title"},[t._v("模板")]),t._v(" "),n("input",{staticClass:"btn",attrs:{type:"button",value:"美食模板"},on:{click:t.foodTemp}})]),t._v(" "),n("div",{staticClass:"dmt"},[n("p",{staticClass:"title"},[t._v("多媒体")]),t._v(" "),n("input",{staticClass:"btn",attrs:{type:"button",value:"图片"},on:{click:t.slider}}),t._v(" "),n("input",{staticClass:"btn",attrs:{type:"button",value:"视频"}}),t._v(" "),n("input",{staticClass:"btn",attrs:{type:"button",value:"音频"}})])]),t._v(" "),n("div",{staticClass:"footer"},[n("input",{attrs:{type:"button",value:"保存"},on:{click:t.save}}),t._v(" "),n("input",{attrs:{type:"button",value:"预览"},on:{click:t.view}}),t._v(" "),n("input",{attrs:{type:"button",value:"保存并发送"},on:{click:t.savesend}})])]),t._v(" "),n("foodTemp",{attrs:{"is-hide":t.foodTempHide,"food-lines":t.foodList},on:{saveTemp:t.saveTemp,cancelTemp:t.cancelTemp}})],1)},staticRenderFns:[]};var H=n("Z0/y")($,L,!1,function(t){n("hhPB")},"data-v-0e2bc5a0",null).exports,R={data:function(){return{list:[]}},mounted:function(){var t=this;r.get("/manage/article/api").then(function(e){console.log(e),t.list=e.data})}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("p",[t._v("文章管理")]),t._v(" "),n("router-link",{attrs:{to:"/manage/article/add"}},[t._v("新建文章")]),t._v(" "),n("ul",{staticClass:"articles"},t._l(t.list,function(e){return n("li",{staticClass:"article"},[n("p",[t._v(t._s(e.title))]),t._v(" "),n("img",{staticStyle:{width:"100%",height:"70%"},attrs:{src:e.coverImg,alt:""}}),t._v(" "),n("p",[t._v("更新于 "+t._s(e.modifyDate?e.modifyDate:e.createDate))])])}))],1)},staticRenderFns:[]};var E=n("Z0/y")(R,U,!1,function(t){n("Aak6")},null,null).exports,F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"foo"},[t._v("用户分析")]),t._v(" "),n("ul",t._l(t.list,function(e){return n("li",[n("span",[t._v(t._s(e))])])}))])},staticRenderFns:[]},I=n("Z0/y")({data:function(){return{list:["1","2","3","4"]}}},F,!1,null,null,null).exports,q={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("section",{staticClass:"user-count"},[n("p",[t._v("今日用户增长情况")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("新增人数(微信)")]),t._v(" "),n("p",{staticClass:"num"},[t._v("12")])]),t._v(" "),n("li",[n("p",[t._v("新增人数(注册)")]),t._v(" "),n("p",{staticClass:"num"},[t._v("32")])]),t._v(" "),n("li",[n("p",[t._v("总用户数")]),t._v(" "),n("p",{staticClass:"num"},[t._v("3896")])])])]),t._v(" "),n("section",{staticClass:"user-love"},[n("p",[t._v("用户喜好情况")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("美妆")]),t._v(" "),n("p",{staticClass:"num"},[t._v("29.1%")])]),t._v(" "),n("li",[n("p",[t._v("美食")]),t._v(" "),n("p",{staticClass:"num"},[t._v("29.1%")])]),t._v(" "),n("li",[n("p",[t._v("服饰")]),t._v(" "),n("p",{staticClass:"num"},[t._v("29.1%")])]),t._v(" "),n("li",[n("p",[t._v("健身")]),t._v(" "),n("p",{staticClass:"num"},[t._v("29.1%")])]),t._v(" "),n("li",[n("p",[t._v("家居")]),t._v(" "),n("p",{staticClass:"num"},[t._v("29.1%")])])])])])}]};var P=n("Z0/y")({data:function(){return{transitionName:"out-in"}},watch:{$route:function(t,e){this.transitionName=t.name<e.name?"slide-right":"slide-left"}}},q,!1,function(t){n("FNEL")},"data-v-26c75a9b",null).exports;a.a.use(m.a);var j=new m.a({mode:"history",base:"/admin",routes:[{path:"/",component:P},{path:"/manage",component:_,children:[{path:"",component:E,name:"1"},{path:"article",component:E,name:"1"},{path:"article/add",component:H,name:"2"},{path:"user",component:C,name:"3"}]},{path:"/statistics",component:f,children:[{path:"",component:I},{path:"user",component:I}]}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:j,components:{App:p},template:"<App/>"})},diXB:function(t,e){},hhPB:function(t,e){},n5pn:function(t,e){},pOpp:function(t,e){},"uR/j":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0ae18473e521f6d1c791.js.map